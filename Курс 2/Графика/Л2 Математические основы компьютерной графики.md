В графике используются **векторы** (для координат, направлений и перемещений). Точка в пространстве может быть представлена вектором (x, y, z).

С векторами в графике можно производить математические операции:
- сложение, вычитание - перемещение,
- умножение на скаляр - изменение размера,
- скалярное произведение - вычисление углов между векторами, определение видимости объектов,
- векторное произведение (вектор, перпендикулярный плоскости, образованной a и b) - нахождение нормалей к поверхностям, определение видимости (по углу),
- Нормализация (приведение длины вектора к единице) - работа с направлениями.

Не менее важная математическая составляющая графики - **матрицы**. Они используются для выполнения линейных преобразований. В графике они используются для преобразования координат (перемещение и др). Для 2D применяются матрицы 3x3, для 3D - 4x4.

Свойства матриц в графике:
- Матрицы позволяют комбинировать несколько преобразований в одно путём умножения,
- Используются для вращений, масштабирования, переносов, проекций и трансформации сцены,
- Позоволяют представлять перспективные проекции камеры в 3D графике.

Операции:
- Умножение - комбинирование преобразований, оптимизация вычислений в графическом конвейере,

Матрицы широко применяются в анимации, физике, шейдерах и рендеринге.

##### Преобразования координат: перенос, масштабирования, поворот

**Перенос** - операция перемещения объекта из одной точки пространства в другую. Это достигается путём добавления фиксированных значений (tx, ty, tz) к координатам каждой точки объекта.

**Пример**: Перенесём точку (x, y) на вектор (tx, ty).
Исходная точка: $[x, y, 1]$
Матрица переноса:
$$
\begin{pmatrix}
1 & 0 & tx \\
0 & 1 & ty \\
0 & 0 & 1
\end{pmatrix}
$$

Результат переноса:
…
Новая точка: $(x + tx, y + ty)$

Геометрическая интерпретация
- Каждая точка объекта смещается на одинаковое расстояние вдоль осей
- Объект сохраняет свою форму и ориентацию, но меняет положение в пространстве.

**Масштабирование** - операция изменения размера объекта. Каждая координата точки умножается на соответствующий коэффициент масштабирования (sx, sy, sz).

Масштабирование выполняется с помощью матрицы:
$$
\begin{pmatrix}
sx & 0 & 0 & 0 \\
0 & sy & 0 & 0 \\
0 & 0 & sz & 0 \\
0 & 0 & 0 & 1
\end{pmatrix}
$$
Геометрическая интерпретация
- Если коэффициент больше 1 - объект увеличивается,
- Если коэффициент меньше 1 - уменьшается,
- Если коэффициенты по разным осям различны, объект может растягиваться или сжиматься неравномерно, но их неплохо жмыхает (иногда это прикольно).

**Поворот** - операция вращения объекта вокруг конкретной из осей координат. Угол поворота выполняется в радианах.

Поворот объекта в пространстве осуществляется с помощью матриц, которые зависят от оси вращения.
$$
\begin{pmatrix}
1 & 0 & 0 & 0 \\
0 & cosO & -sinO & 0 \\
0 & sinO & cosO & 0 \\
0 & 0 & 0 & 1
\end{pmatrix}
$$
$$
\begin{pmatrix}
cosO & 0 & sinO & 0 \\
0 & 1 & 0 & 0 \\
-sinO & 0 & cosO & 0 \\
0 & 0 & 0 & 1
\end{pmatrix}
$$
$$
\begin{pmatrix}
cosO & -sinO & 0 & 0 \\
sinO & cosO & 0 & 0 \\
0 & 0 & 1 & 0 \\
0 & 0 & 0 & 1
\end{pmatrix}
$$

##### Объединение преобразований

Матрицы всех преобразований можно объединить в одну путём их последовательного умножения.
$Mtotal = Mtranslate * Mrotate * Mscale$

##### Аффинные преобразования
Класс геометрических преобразований, которые сохраняют прямолинейность и параллельность. Однако расстояния и углы могут меняться. Они необходимы для универсальности, эффективности и гибкости в графике.

([https://habr.com/ru/articles/529420](https://habr.com/ru/articles/529420))

##### Проекции: параллельная и перспективная (3-ий этап граф. конвейера)

**Проекция** - процесс преобразования координат 3D объекта в 2D координаты экрана.

**Параллельная проекция** - отображение трёхмерных объектов в качестве двухмерного изображения.
- Технические чертежи,
- CAD-системы,
- Архитектурные планы.

Параллельная проекция выполняется при помощи матрицы:

$$
\begin{pmatrix}
1 & 0 & 0 & 0 \\
0 & 1 & 0 & 0 \\
0 & 0 & 0 & 0
\end{pmatrix}
$$

Особенности:
- Сохраняет истинные размеры объекта,
- Не создаёт эффект удаления объектов (все объекты выглядят одинаково, не зависимо от расстояния до наблюдателя).

**Перспективная проекция** - способ изображения трёхмерных объектов на плоской поверхности, путём создания эффекта глубины.

Выполняется при помощи матрицы
$$
\begin{pmatrix}
1/z & 0 & 0 & 0 \\
0 & 1/z & 0 & 0 \\
0 & 0 & 0 & 0
\end{pmatrix}
$$

Особенности:
- Создаёт реалистичное изображение с эффектом глубины
- Объекты, находящиеся ближе к наблюдателю выглядят крупнее, находящиеся дальше выглядят меньше.

##### Системы координат (локальная, мировая, экранная)

###### Локальная (объектная) система координат  

Каждый объект имеет свою собственную систему координат. Она используется для описания геометрии объекта относительно его центра или начала координат.
- Все вершины хранятся в локальной системе координат,
- Локальная система координат удобна для работы с отдельными объектами,
- Преобразования применяются к объекту в его локальной системе координат.

###### Мировая система координат

Общая система координат в которой находятся объекты сцены Она определяет положение объектов относительно друг друга и всей сцены.
- Локальные координаты объектов преобразуются в мировые координаты с помощью матриц преобразований,
- Мировая система координат является промежуточным этапом перед выводом изображения на экран.

###### Экранная система координат

Используется для отображения объектов на экране. Это двухмерная система координат, в которой каждая точка соответствует пикселю на экране.
- Начало координат находится слева сверху экрана,
- 3D-координаты объектов преобразуются в 2D-координаты экрана при помощи проекций.